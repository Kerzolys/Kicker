(()=>{"use strict";function t(i){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(i)}function i(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,e(s.key),s)}}function e(i){var e=function(i,e){if("object"!=t(i)||!i)return i;var r=i[Symbol.toPrimitive];if(void 0!==r){var s=r.call(i,"string");if("object"!=t(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(i);return"symbol"==t(e)?e:e+""}var r=function(){return t=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=i,this.x,this.y,this.spriteRadius=50,this.radius,this.baseWidth=115,this.baseHeight=115,this.width,this.height,this.speedY=0,this.speedX=0,this.imp,this.kickSpeed,this.image=document.querySelector("#ballImage")},(e=[{key:"draw",value:function(){this.game.ctx.drawImage(this.image,this.x-this.radius-9,this.y-this.radius-4,this.width,this.height),this.game.ctx.restore()}},{key:"resize",value:function(){this.radius=this.spriteRadius*this.game.ratio,this.x=.5*this.game.width,this.y=this.game.height,this.speedY=this.speedY*this.game.ratio,this.speedX=this.speedX*this.game.ratio,this.imp=.5*this.game.ratio,this.kickSpeed=-8*this.game.ratio,this.width=this.baseWidth*this.game.ratio,this.height=this.baseHeight*this.game.ratio}},{key:"update",value:function(){this.x+=this.speedX/3,this.y+=this.speedY,this.isTouchingBottom()||(this.speedY+=this.game.gravity),this.isTouchingBottom()&&(this.y=this.game.height-this.radius,this.speedY=-this.speedY*this.imp,this.speedX=this.speedX*this.imp),this.isTouchingLeftBorders()&&(this.x=0+this.radius),this.isTouchingRightBorders()&&(this.x=this.game.width-this.radius)}},{key:"kick",value:function(){this.isTouchingTop()||(this.y+=this.speedY,this.speedY=this.kickSpeed)}},{key:"isTouchingLeftBorders",value:function(){return this.x<0+this.radius}},{key:"isTouchingRightBorders",value:function(){return this.x>this.game.width-this.radius}},{key:"isTouchingTop",value:function(){return this.y<0+2*this.radius}},{key:"isTouchingBottom",value:function(){return this.y>=this.game.height-this.radius}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var i=function(t,i){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(i)?i:i+""}var a=function(){return t=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=i,this.fontFamily="Inter",this.baseFontSize=100,this.fontSize,this.strokeColor="#fff",this.shadowColor="red"},(i=[{key:"drawScoreText",value:function(){this.game.ctx.save(),this.game.ctx.font="".concat(this.fontSize,"px ").concat(this.fontFamily),this.game.ctx.strokeStyle=this.strokeColor,this.game.ctx.textAlign="center",this.game.ctx.fillText(this.game.score,.5*this.game.width,.5*this.game.height,this.game.width),this.game.ctx.shadowColor=this.shadowColor,this.game.ctx.shadowBlur=Math.ceil(4*this.game.ratio),this.game.ctx.strokeText(this.game.score,.5*this.game.width,.5*this.game.height,this.game.width),this.game.ctx.restore()}},{key:"resize",value:function(){this.fontSize=this.baseFontSize*this.game.ratio}}])&&n(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function c(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var i=function(t,i){if("object"!=h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(i)?i:i+""}var l=function(){return t=function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=i,this.fontFamily="Inter",this.baseFontSize=60,this.fontSize},(i=[{key:"drawGameOverText",value:function(){this.game.ctx.save(),this.game.ctx.font="".concat(this.fontSize,"px ").concat(this.fontFamily),this.game.ctx.textAlign="center",this.game.ctx.shadowColor="#000",this.game.ctx.shadowBlur=4,this.game.ctx.fillText("Game Over",.5*this.game.width,.5*this.game.height-this.fontSize,this.game.width),this.game.ctx.font="".concat(this.fontSize,"px ").concat(this.fontFamily),this.game.ctx.fillText("score: ".concat(this.game.score),.5*this.game.width,.5*this.game.height,this.game.width),this.game.ctx.restore()}},{key:"resize",value:function(){this.fontSize=this.baseFontSize*this.game.ratio}}])&&c(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function f(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var i=function(t,i){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(i)?i:i+""}var g=function(){return t=function t(i,e){var s=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=e,this.width=this.canvas.width,this.height=this.canvas.height,this.baseHeight=720,this.ratio=this.height/this.baseHeight,this.player=new r(this),this.scoreClass=new a(this),this.gameOverClass=new l(this),this.gravity,this.score=0,this.gameOver,this.kickCorrection,this.handleClick,this.resize(window.innerWidth,window.innerHeight),window.addEventListener("resize",(function(t){s.resize(t.currentTarget.innerWidth,t.currentTarget.innerHeight)})),this.canvas.addEventListener("click",this.handleClick=function(t){return s.handleEvent(t.clientX,t.clientY)}),this.isGameOver()},(i=[{key:"handleEvent",value:function(t,i){t>this.player.x-this.player.radius&&t<this.player.x+this.player.radius&&i>this.player.y-this.player.radius&&i<this.player.y+this.player.radius&&(this.player.kick(),this.score++,this.kickCorrection=this.player.x-t,this.player.y+=this.player.speedY,this.player.speedX=this.kickCorrection)}},{key:"resize",value:function(t,i){this.canvas.width=t,this.canvas.height=i,this.width=this.canvas.width,this.height=this.canvas.height,this.ratio=this.height/this.baseHeight,this.player.resize(),this.scoreClass.resize(),this.gameOverClass.resize(),this.gravity=.3*this.ratio,this.gameOver=!1}},{key:"render",value:function(){this.player.update(),this.player.draw(),this.drawStatusText()}},{key:"drawStatusText",value:function(){this.isGameOver()?this.gameOverClass.drawGameOverText():this.scoreClass.drawScoreText()}},{key:"isGameOver",value:function(){return this.player.isTouchingBottom()&&this.score>0&&(this.gameOver=!0,this.canvas.removeEventListener("click",this.handleClick)),this.gameOver}}])&&f(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();window.addEventListener("load",(function(){var t=document.querySelector("#canvas"),i=t.getContext("2d");t.width=720,t.height=720;var e=new g(t,i);e.gameOver=!1,requestAnimationFrame((function r(){i.clearRect(0,0,t.width,t.height),i.beginPath(),e.render(),requestAnimationFrame(r)}))}))})();